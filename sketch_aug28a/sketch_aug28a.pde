/*
  misaki font
    http://www.geocities.jp/littlimi/misaki.htm
*/
byte msk4x8_font[1024] = {
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7,
 0, 1, 2, 3, 4, 5, 6, 7
};

#define GET_MSK4x8_FONT(c,x,y) ((msk4x8_font[c][y] >> x) & 1)



void setup() {                
  // initialize the digital pin as an output:
  for (int i = 0; i < 8; ++i) {
    pinMode(i + 2, OUTPUT);
    digitalWrite(i + 2, LOW);
  }

  pinMode(10, INPUT);
  
  Serial.begin(9600);
  Serial.println("start...");
}

int msg_p = 0;
const char * msg = "Hello, Arduino World!!";

void set_led(char c, int wait) {
  Serial.println(c);
  for (int y = 0; y < 8; ++y) {
    for (int x = 0; x < 4; ++x) {
      //if (GET_MSK4x8_FONT(c,x,y)) digitalWrite(x + 2, HIGH);
      //else                        digitalWrite(x + 2, HIGH);
      Serial.print(msk4x8_font[c*8+y],HEX);
      Serial.print(",");
    }
    delay(wait);
  }
  Serial.println("");
}

void loop() {
  for (int i = 0; i < strlen(msg); ++i) {
    set_led(msg[i], 100);
  }

  delay(30);
}
